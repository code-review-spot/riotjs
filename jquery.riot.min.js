/*
  Riot.js 0.9.4 | moot.it/riotjs | @license MIT
  (c) 2013 Tero Piirainen, Moot Inc and other contributors.
 */
(function(t) {
  "use strict";
  var i = t.$;
  if (i.riot) return;
  i.riot = "0.9.4";
  var n = [].slice;
  i.observable = function(t) {
    var o = i("<a/>");
    i.each(["on", "one", "trigger", "off"], function(i, e) {
      t[e] = function(r, a) {
        if (i < 2) {
          o[e](r, function(i) {
            var o = n.call(arguments, 1);
            if (r.split(" ")[1]) o.unshift(i.type);
            a.apply(t, o)
          })
        } else if (i === 2) {
          o.trigger(r, n.call(arguments, 1))
        } else {
          o.off(r)
        }
        return t
      }
    });
    return t
  };
  var o = i(t);
  var e;
  o.on("load", function(i) {
    t.setTimeout(function() {
      e || o.trigger("popstate")
    }, 1)
  })
    .on("popstate", function(t) {
      if (!e) e = true
    });
  i.route = function(n) {
    if (i.isFunction(n)) {
      o.on("popstate", function(i, o) {
        n(o || t.location.hash)
      })
    } else if (n != t.location.hash) {
      if (t.history.pushState) t.history.pushState("", "", n);
      o.trigger("popstate", [n])
    }
  }
})(window);